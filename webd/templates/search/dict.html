{% extends "../search_results.html" %}
{% load static %}
{% load js %}

{% block title %}TLA - Prototyp - Trefferliste{% endblock %}

{% block content %}
<!-- Page Content -->
<div class="container content my-4">

	<div class="row">
		<!-- Breadcrumbs -->
		<div class="col-12">
			<nav aria-label="breadcrumb">
			  <ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Home</a></li>
				<li class="breadcrumb-item"><a href="/search">Search</a></li>
				<li class="breadcrumb-item active" aria-current="page">Search Results</li>
			  </ol>
			</nav>
		</div>
	</div><!-- /.row -->
	
	<!-- Suchergebnis + sortieren-->	
	<div class="row search-entries">
		<div class="col-sm-8 result">
			<h2 class="bbaw-libertine"><mark>{{params.transcription}}</mark></h2>
		</div>
		<div class="col-sm-4">
		 <div class="input-group mb-3">
			<div class="input-group-append">
				<label class="input-group-text" for="inputGroupSelect02">Order by</label>
			  </div>
			<select class="custom-select" id="inputGroupSelect02">
				<option selected>alphabetical order</option>
				<option value="1">option 2</option>
				<option value="2">option 3</option>
			  </select>			  
			</div>
		</div>		
    </div><!-- /.row -->
	
	<!-- Trefferanzahl-->
	<div class="row searchresult">		
			<div class="col-8 pt-3">
                <p class="result-entries">Results: <b>{{start}} - {{end}}</b> of <b>{{hitcount}}</b> Dictionary Entries 
                    <a href="#" class="btn btn-light solo-icon float-right mr-1" role="button" data-toggle="modal" data-target="#modal_sharing"><span class="fa fa-share-alt share-results"/></a>
                </p>                
			</div>
	</div><!-- /.row -->  
	  	
	<!-- Trefferliste -->
	<div class="row result-list">	
		<div class="col-8 ">
		<!-- Treffer -->
            {% for indent, pred, hit in hits %}        
			<div class="result-list-item indent-{{indent}}">
				<!-- indent in views.py  --><!--{%if pred%}{{pred}}{%endif%}-->
                
                {% if pred %}
					<div class="lemma-rel {{pred}}"></div> <!-- lemma-beziehung -->
				{% endif %}
                
                <div class="result-bg" id="{{hit.id}}" onclick="window.open('/view/lemma/{{hit.id}}','_self')">
				<!-- Redaktionsstatus & Anzahl Occurences-->
				<div class="pt-1">
					<div class="red-status float-right ml-2">
                        <a href="#"><span class="far fa-check-circle {% if hit.occurrences > 0 %}ok{% else %}pending{% endif %}"></span></a>
                    </div>
                    {% if hit.occurrences > 0 %}
					   <div class="number_occurences float-right">
                            <p>Occ.:&nbsp;{{hit.occurrences}}</p>
                        </div>
                    {% endif %} 
					
					<!--<a><span class="far fa-envelope"/></a>
					<a><span class="far fa-comment"/></a>-->
				</div>	
				
				<!-- erste Zeile -->
                <div> 
                    <a href="/view/lemma/{{hit.id}}" title="{%if pred%}{{pred}}{%endif%}"> <!-- lemma-beziehung -->
                    <h2 class="word bbaw-libertine">
                        {{hit.name}}
                    </h2>
                    <!-- Hieroglyph -->
                        <span class="hieroglyph">
                            {% for word in hit.words %}
                                {% if word.glyphs %}
                                    <span class="glyphbox">
                                        <!-- TODO font-size: 20px; vertical-align: -5px; in css verschieben -->
                                        <canvas class="res" style="font-size: 20px; vertical-align: -5px;" title="{{word.glyphs}}">
                                            {{word.glyphs}}
                                        </canvas>
                                    </span>
                                {% endif %}
                            {% endfor %}
                        </span>

                    <!-- Lemma ID -->
                    <span class="result-list-lemma-id hide">
                        &nbsp; (ID {{hit.id}})
                    </span>
                    </a>
                </div>
                
                 <!-- zweite Zeile -->
				 <div>
					<!-- Wordclass -->
					<span class="word-class hide">
						<strong>
							<span class="font-italic word-class-type">[{{hit.type}}]</span>
							{%if hit.subtype%}<span class="word-class-subtype">({{hit.subtype}})</span>{%endif%}
						</strong>
					</span>
					
					<!-- Translations -->
					<!-- Translation DE -->
					<span class="translations translation-de">
						<span class="font-italic hide">[{{hit.type}}]</span>
						{%for translation in hit.translations.de%}
						<span class="translation">{{translation}}</span>
						{%endfor%}
					</span>
					<!-- Translation EN -->
					<span class="translations translation-en hide">
						<span class="font-italic hide">[{{hit.type}}]</span>
						{%for translation in hit.translations.en%}
						<span>{{translation}}</span>
						{%endfor%}					
					</span>
					<!-- Translation FR -->
					<span class="translations translation-fr hide">
						<span class="font-italic hide">[{{hit.type}}]</span>
						{%for translation in hit.translations.fr%}
						<span>{{translation}}</span>
						{%endfor%}					
					</span>
		   
					<!-- Attestation time -->
					<span class="result-list-attestation-time hide">(##att.time##{{hit.xxx}})</span> <!-- ##Variable noch nicht verfÃ¼gbar -->
					
					<!-- Bibliography -->
					<span class="result-list-bibliography hide">({{hit.bibliography}})</span>
				</div>
                    
				
				
			</div> <!-- /. result-bg  -->	
				<!-- combination-search -->
				<div class="combination-search ml-4 my-1 hide">
					<input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
					  <label class="form-check-label" for="inlineCheckbox2">Select for Combination Search</label>
				</div>
            <hr>
            </div> <!-- /. result-bg -->
			
            {% endfor %}
            
        </div> <!-- .col-8 -->    
       	
	
	
		<!-- Sidebar -->
		<div class="col-4">
            <div class="sticky-top">
                <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail hieroglyph-btn "><i class="fas fa-plus-circle"></i>Hieroglyphs</button>
                <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail lemma-id-btn "><i class="fas fa-plus-circle"></i>Lemma ID</button>
                <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail word-class-btn"><span class="fas fa-plus-circle"></span>Word Class</button>
                 <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail bibliografical-btn "><i class="fas fa-plus-circle"></i>Bibliographical references </button>
                <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail attestation-time-btn "><i class="fas fa-plus-circle"></i>Attestation time</button>
                
                <div class="dropdown">
                    <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail" id="languages" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="fas fa-plus-circle"></span>Translation Languages</button>
                    <div class="dropdown-menu" aria-labelledby="languages">
                        <button class="dropdown-item translation-languages-btn-de" type="button">German</button>
                        <button class="dropdown-item translation-languages-btn-en" type="button">English</button>
                        <button class="dropdown-item translation-languages-btn-fr" type="button">French</button>
                      </div>
                </div>
                
                <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail combination-search-btn"><span class="fas fa-plus-circle"></span>Combination Search</button>
                
                <br>	
                <button type="button" class="btn btn-block btn-light text-left text-decoration-none show-detail combination-search-btn"><span class="fas fa-search-plus"></span>Combination Search</button>
                
                <a href="/search"><button type="button" class="btn btn-block btn-red text-left text-decoration-none"><span class="fas fa-arrow-circle-left"></span>Modify Search</button></a>
            </div>
		</div>
	</div> <!-- /.row -->	  
    
     <!-- Modal for Sharing-->
    <div class="modal fade" id="modal_sharing" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Share these Results</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">            
              <a href="#" class="btn btn-block btn-info" role="button"><span class="far fa-envelope"></span>E-Mail</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-twitter"></span>Twitter</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-facebook"></span>Facebook</a> 
          </div>
          
        </div>
      </div>
    </div>
    <!-- /. Modal -->
    
</div><!-- /.container Content -->
{% endblock %}
