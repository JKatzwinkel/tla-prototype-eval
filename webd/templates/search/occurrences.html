{% extends "../search_results.html" %}
{% load static %}
{% load js %}

{% block title %}TLA - Occurences: Lemma ###lemmaID###{% endblock %}

{% block content %}
<!-- Page Content -->
<div class="container content my-4">

	<div class="row">
		<!-- Breadcrumbs -->
		<div class="col-12">
			<nav aria-label="breadcrumb">
			  <ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Home</a></li>
				<li class="breadcrumb-item"><a href="/search">Search</a></li>
				<li class="breadcrumb-item active" aria-current="page">Search Results</li>
			  </ol>
			</nav>
		</div>
	</div><!-- /.row -->
	
	<!-- Suchergebnis + sortieren-->	
	<div class="row search-entries">
		<div class="col-sm-8 result">
			<h2 class="bbaw-libertine"><mark>{{params.transcription}}</mark></h2>
		</div>
		<div class="col-sm-4">
		 <div class="input-group mb-3">
			<div class="input-group-append">
				<label class="input-group-text" for="inputGroupSelect02">Order by</label>
			  </div>
			<select class="custom-select" id="inputGroupSelect02">
				<option selected>alphabetical order</option>
				<option value="1">###option 2</option>
				<option value="2">###option 3</option>
			  </select>			  
			</div>
		</div>		
    </div><!-- /.row -->
	
	<!-- Trefferanzahl-->
	<div class="row searchresult">		
			<div class="col-sm-12 pt-3">
			<p class="result-entries">Results: <b>{{start}} - {{end}}</b> of <b>{{hitcount}}</b> Words in Texts</p>
			</div>
	</div><!-- /.row -->  
	  	
	<!-- Trefferliste -->
	<div class="row occ-list">	
		<div class="col-sm-8">
		<!-- Treffer -->
            
        {% for hit in hits %}
        <div class="occ-list-item pt-1 pb-1" id="{{hit.occurence.id}}">
        <div class="container-annotation-switch hide">
            <div class="container-annotation mt-2 mb-2">
                {% for token in hit.sentence.tokens %}
						    <!-- verf체gbar in token aktuell, Beispiel
							'id': 'IBUBd7OVlOhfKUiumxJHEQfNPHc', 
							'type': 'word', 
							'label': 'jn', 
							'lemma': '26660', 
							'flexcode': '3', 
							'glossing':	'unver채ndert zu BWL', 
							'glyphs': 'M17-N35', 
							'translations': {'de': ['seitens (jmds.)']
							####KEIN highlight verf체gbar, vgl. unten -->
                <ul class="annotation-block {%if token.highlight%}highlight-{{token.highlight}}{%endif%}" onclick="window.open('/view/lemma/{{token.lemma}}','_blank')">
                    <li class="word-id hide">  <!-- ### add class ### -->
					    {% if token.id %}
                           {{token.id}}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>
                    <li class="hieroglyph">
                        <canvas class="res occ-tok-glyphs" style="font-size: 20px; vertical-align: -5px;"  title="{{token.glyphs}}">
                        {% if token.glyphs %}
                            {{token.glyphs}}
                        {% else %}
                            empty
                        {% endif %}
                       </canvas>
					</li>
                    <li class="transcription">
					    {% if token.label %}
                           {{token.label}}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>
                    <li class="lemma-id hide">
					    {% if token.lemma %}
                           {{token.lemma}}
						{% else %}
							{% if token.flexcode %}
								{{token.flexcode}}
							{% else %}
								&nbsp;
							{% endif %}
                        {% endif %}
					</li>
                    <li class="part-of-speech hide"> <!-- ##vorl채ufig Inhalt von type, letzendlich muss hier POS-Inhalt rein  -->
					    {% if token.type %}
                           {{token.type}}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>
                    <li class="glossing hide condenesed">
					    {% if token.glossing %}
                           {{token.glossing}}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>
                    <li class="translation-de">
					    {% if token.translations.de %}
 							{%for translation in token.translations.de %}
								{{translation}}
							{%endfor%}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>               
                    <li class="translation-en hide"> <!-- ##Inhalt aktuell noch nicht in token mitgeliefert  -->
					    {% if token.translations.en %}
							{%for translation in token.translations.en %}
								{{translation}}
							{%endfor%}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>               
                    <li class="translation-fr hide"> <!-- ##Inhalt aktuell noch nicht in token mitgeliefert  -->
					    {% if token.translations.fr %}
							{%for translation in token.translations.fr %}
								{{translation}}
							{%endfor%}
                        {% else %}
                            &nbsp;
                        {% endif %}
					</li>               
                </ul>
                {% endfor %}          
               
                </div> <!-- container-annotation clode -->
            </div> <!-- container-switch close -->           
			
            <div class="container-annotation-switch">
                
                    <!-- Lemma -->
                    <h3 class="word bbaw-libertine">
                        {% for token in hit.sentence.tokens %}
                        <a href="/view/lemma/{{token.lemma}}">
                            <span id="{{token.id}}" class="occ-tok {%if token.highlight%}highlight-{{token.highlight}}{%endif%} bbaw-libertine">
                                    {% if token.label %}
                                        {{token.label}}
                                    {% endif %}
                            </span>
                        </a>
                        {% endfor %}
                    </h3>

                    <div class="hieroglyph mb-1">
                        {%for token in hit.sentence.tokens%}
                        <span class="glyphbox">
                            {%if token.glyphs%}
                            <canvas class="res occ-tok-glyphs {%if token.highlight%}highlight-{{token.highlight}}{%endif%}" title="{{token.glyphs}}">
                                {{token.glyphs}}
                            </canvas>
                            {%endif%}
                        </span>
                        {%endfor%}
                    </div>
                
            </div> <!-- container-switch close -->
            
				<!-- Translation DE -->
				{% for translation in hit.sentence.translations.de %}
					<p class="translation translation-de">{{translation}}</p>
				{% endfor %}
				<!-- Translation EN, werten  -->
				{% for translation in hit.sentence.translations.de %}
					<p class="translation translation-en hide">{{translation}}</p>
				{% endfor %}
				<!-- Translation FR -->
				{% for translation in hit.sentence.translations.de %}
					<p class="translation translation-fr hide">{{translation}}</p>
				{% endfor %}

				<div class="corpus-paths">
					{%for path in hit.text.paths%}
					<p class="corpus-path">
					{%for object in path%}
						<span id="{{hit.text.id}}-{{object.id}}" class="corpus-path-element">
							<a href="{{object.url}}">
								{{object.name}}
                                <i class="fas fa-arrow-circle-right"></i>
							</a>
							{%if not forloop.last%}
							
							{%endif%}
						</span>
						{%endfor%}
						<a href="/view/occurrence/{{hit.occurrence.id}}">
							<span class="lc">
							 [{{hit.occurrence.line}}]
							</span>
						</a>
					</p>
					{%endfor%}
				</div>	
				
							
			
         </div> <!--.Treffer -->
			{% endfor %}


		</div> <!-- .col-sm-8 -->
	
	
		<!-- Sidebar -->
		<div class="col-sm-4">
		<div class="sticky-top">
            <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail anno-block-btn"><i class="fas fa-plus-circle"></i>Switch Annotation/Block-View</button>
			
            <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail word-id-btn "><i class="fas fa-plus-circle"></i>Word ID</button><!--new-->
			<button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail hieroglyph-btn "><i class="fas fa-plus-circle"></i>Hieroglyphs</button>
            <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail lemma-id-btn "><i class="fas fa-plus-circle"></i>Lemma ID</button>
            <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail part-of-speech-btn"><span class="fas fa-plus-circle"></span>Part of Speech</button>
            <button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail glossing-btn"><span class="fas fa-plus-circle"></span>Glossing</button>
			
			<div class="dropdown">
				<button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail translation-languages-btn" id="languages" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="fas fa-plus-circle"></span>Translation Languages</button>
				<div class="dropdown-menu" aria-labelledby="languages">
					<button class="dropdown-item translation-languages-btn-de" type="button">German</button>
					<button class="dropdown-item translation-languages-btn-en" type="button">English</button>
					<button class="dropdown-item translation-languages-btn-fr" type="button">French</button>
				  </div>
			</div>
			<!--<button type="button" class="btn btn-block btn-secondary text-left text-decoration-none show-detail translation-languages-btn "><span class="fas fa-plus-circle"></span>Translation Languages</button>-->
			
			<br>
            
            <a href="javascript:history.back()"><button type="button" class="btn btn-block btn-red text-left text-decoration-none"><span class="fas fa-arrow-circle-left"></span>Back </button></a>
            <!-- anstelle des historyBack sollte u.U. der Search-String verwendet werden -->
			
            <a href="/search"><button type="button" class="btn btn-block btn-red text-left text-decoration-none"><span class="fas fa-arrow-circle-left"></span>Modify Search</button></a>
		</div>
		</div>
	</div> <!-- /.row -->
    
    
    
    <!-- Modal for Sharing-->
    <div class="modal fade" id="modal_sharing" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Share this article</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">            
              <a href="#" class="btn btn-block btn-info" role="button"><span class="far fa-envelope"></span>E-Mail</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-twitter"></span>Twitter</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-facebook"></span>Facebook</a> 
          </div>
          
        </div>
      </div>
    </div>
    
     <!-- Modal for Sharing-->
    <div class="modal fade" id="modal_sharing" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Share this article</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">            
              <a href="#" class="btn btn-block btn-info" role="button"><span class="far fa-envelope"></span>E-Mail</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-twitter"></span>Twitter</a> 
              <a href="#" class="btn btn-block btn-info" role="button"><span class="fab fa-facebook"></span>Facebook</a> 
          </div>
          
        </div>
      </div>
    </div>
    
</div><!-- /.container Content -->
{% endblock %}

