{% extends "../base.html" %}
{% load static %}

{% block title %}
	Search Dictionary for ...
{% endblock %}

{% block headcss%}
	<link rel="stylesheet" type="text/css" href="{% static "css/search.css"%}" />
{% endblock%}


{% block headjs %}
<script type="text/javascript">
toggleHieroglyphs = function() {
	$(".hieroglyphs").css("display",
			$("#toggle-hieroglyphs span").hasClass("plus") ? "block" : "none");
	$("#toggle-hieroglyphs span").toggleClass("plus minus");
}
toggleWordclass = function() {
	$(".lemma-type").css("display",
			$("#toggle-wordclass span").hasClass("plus") ? "block" : "none");
	$("#toggle-wordclass span").toggleClass("plus minus");
}
toggleTranslations = function() {
	$(".lemma-translations").css("display",
			$("#toggle-translations span").hasClass("plus") ? "block" : "none");
	$("#toggle-translations span").toggleClass("plus minus");
}
</script>
{% endblock%}

{% block breadcrumbs %}
<li>
	<a href="/search">
		Search TLA
	</a>
</li>
<li>Dictionary Entries</li>
{% endblock %}


{% block content%}
<h3>{{start}} - {{end}} of {{hitcount}} Dictionary Entries</h3>
<hr/>
<div class="stuff">
	{% for indent, pred, hit in hits %}
	<div class="hit dict-result" id="{{hit.id}}" style="border-bottom:1px solid #aaa;padding:5px">
		<table style="width:100%">
			<tr>
				{% for i in indent %}
				<td>
				</td>
				{% endfor %}
				<td>
					<div class="details-container">
						<div class="result-head">
							<table width="100%">
								<tr>
									<div class="hieroglyphs" style="display:none">
										{% for word in hit.words %}
											{% if word.glyphs %}
												<span class="glyphbox">
													<img src="http://tladev.bbaw.de:5000/render?mdc={{word.glyphs}}" 
															title="{{word.glyphs}}" style="height:32px"/>
												</span>
											{%endif%}
										{% endfor %}
									</div>
									<td class="name" style="font-weight:bold;font-size:16px">
										<a class="transcription" href="/view/lemma/{{hit.id}}">
											{{hit.name }}
										</a>
									</td>
									<td class="head-bar-reviewstate" style="text-align:right">
										<span style="color:#bbb">
											{{hit.id}}
										</span>
										{{hit.revisionState}}
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="details-container">
						<div class="translation de" style="font-size:11px">
							{{hit.translations.de }}
						</div>
					</div>
					<div class="details-container lemma-translations" style="display:none">
						{% for lang, translation in hit.translations.items %}
							{% if lang != "de" %}
								<div class="translation {{lang}}" title="{{lang}}" style="font-size:11px;font-weight:normal;">
									{{translation}}
								</div>
							{% endif %}
						{% endfor %}
					</div>
					<div class="details-container lemma-type" style="display:none">
						<span id="lemma-type">
							{{hit.type}}
						</span>
						{% if hit.subtype %}
							<span id="lemma-subtype">
								({{hit.subtype}})
							</span>
						{% endif %}
					</div>
					<div class="details-container" style="border: 0 none">
						<div class="bibliography" style="font-size:11px">
							{{hit.passport.bibliography.bibliographical_text_field}}
						</div>
					</div>
				</td>
			</tr>
		</table>
	</div>
	{% endfor %}
</div>
<div class="sidebar">
	<div class="text">
		Show Properties:
	</div>
	<button class="sidebar-button" onclick="toggleHieroglyphs()" id="toggle-hieroglyphs">
		<span class="icon plus">
			Hieroglyphs
		</span>
	</button>
	<button class="sidebar-button" onclick="toggleTranslations()" id="toggle-translations">
		<span class="icon plus">
			Translations
		</span>
	</button>
	<button class="sidebar-button" onclick="toggleWordclass()" id="toggle-wordclass">
		<span class="icon plus">
			Word Class
		</span>
	</button>
</div>
{% endblock %}
	


