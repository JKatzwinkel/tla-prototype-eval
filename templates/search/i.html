{% extends "../b.html" %}
{% load static %}
{% load js %}

{% block headjs %}
<script type="text/javascript" src="{% static "js/egyptian_keyboard.js"%}"></script>
<link rel="stylesheet" type="text/css" href="{% static "css/keyboard.css"%}"/>

<script type="text/javascript">
var wordClasses = {{ word_classes | js }};
$(window).on('pageshow', function(){
  // prevent submit button from passing empty parameters in GET request
  $("#dict-search").submit(function() {
    // disable empty input fields
    $(this).find("textarea").filter(function() {
      return (!this.value || this.value.length < 1);
    }).attr("disabled", "disabled");
    if (!$("#dict-search-transcription").val()) {
      $("input[name=transcription_enc]").attr("disabled", "disabled");
    }
    if (!$("#dict-search-root").val()) {
      $("input[name=root_enc]").attr("disabled", "disabled");
    }
    if (!$("#dict-search-translation").val()) {
      $("select[name=lang]").attr("disabled", "disabled");
    }
    return true;
  });
  // Un-disable form fields when page loads, in case they click back after submission
  $("#dict-search input").attr("disabled", false);
  // inject subtype choices list depending on the type input field value
  var wordClassTypesField = $("#word_class_types");
  var wordClassSubtypesField = $("#word_class_subtypes");
  wordClassSubtypesField.hide();
  wordClassTypesField.bind('input', function(){//bind is deprecated actually we supposed to use on()
    var key = wordClassTypesField.val();
    if (key in wordClasses && wordClasses[key] != null) {
      wordClassSubtypesField.empty();
      wordClasses[key].forEach((subtype, index) => {
        $('#word_class_subtypes').append(
        '<option value="'+subtype+'">'+subtype+'</option>');
      });
      wordClassSubtypesField.show(150);
    } else {
      wordClassSubtypesField.hide(150);
	    wordClassSubtypesField.empty();
        wordClassSubtypesField.val('');
    }
  });
});
</script>

{% endblock %}

{% block title %}TLA - Prototyp - Search{% endblock %}

	{% block content %}  
    <!-- Page Content -->
    <div class="container content my-4">

      <div class="row">
		<!-- Breadcrumbs -->
		<div class="col-12">
			<nav aria-label="breadcrumb">
			  <ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Home</a></li>
				<li class="breadcrumb-item active" aria-current="page">Search</li>
			  </ol>
			</nav>
		</div>
	  </div>
	  <!-- /.row -->
	  
	<div class="row global-search">
		<div class="col-sm-12">
			<h4 class="font-weight-light">Global Search</h4>
			<hr>
		</div>
		<!-- einfaches Suchformular -->
			
		<div class="col-sm-8 my-3">
			<div class="form-group">
				<input type="text" class="form-control" id="GlobalSearch" aria-describedby="GlobalSearch" placeholder="Type here what ever you are looking for">
				<small id="GlobalSearch" class="form-text text-muted pl-2 pt-1">Search for Egyptian words in transcription or modern translations ...</small>
			 </div>
		</div>
		<div class="col-sm-4 my-3">
			<a href="/search"><button type="button" class="btn btn-block btn-danger text-left text-decoration-none"><span class="fas fa-arrow-circle-right"></span>Search</button></a>
		</div>	
	</div>
	<!-- /.row -->
	  
	  	
	<!-- Detailsuche -->
	<div class="row search my-4">
		<div class="col-sm-12">
			<h4 class="font-weight-light">Expert Search</h4>
			<hr>
		</div>
		<div class="col-sm-8">
		<div class="accordion" id="accordionExample">
		
		  <!-- Dictionary Entries -->
		  <div class="card">
			<div class="card-header" id="headingOne">
			  <h2 class="mb-0">
				<button class="btn btn-link show-more" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" form="dict-search">
				  <span class="fas fa-minus-circle"></span>Dictionary Entries
				</button>
				
			  </h2>
			</div>

			<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
			  <form id="dict-search" action="/search/dict" name="dict-search">
				  <!-- Transcription -->
				  <div class="form-group row bg-grey">
					<label for="language" class="col-sm-2 col-form-label"></label>
					<div class="form-check form-check-inline ml-3">
					  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="script" value="h" checked>
					  <label class="form-check-label" for="inlineCheckbox1">Hieroglyphs/Hieratic</label>
					</div>
					<div class="form-check form-check-inline">
					  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="script" value="d" checked>
					  <label class="form-check-label" for="inlineCheckbox2">Demotic</label>
					</div>	
					<div class="form-check form-check-inline">
					  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="script" value="c">
					  <label class="form-check-label" for="inlineCheckbox2">Coptic</label>
					</div>					
				  </div>
				  <div class="form-group row">
					<label for="Transcription" class="col-sm-2 col-form-label">Transcription</label>
					<div class="col-sm-10">
					  <input type="text" class="form-control mb-3 keyboardInput" id="dict-search-transcription" rows="3" name="transcription" lang="egy"></input>
					  <div class="form-check form-check-inline">
						  <input class="form-check-input" type="radio" id="inlineRadio1" value="unicode" checked name="transcription_enc">
						  <label class="form-check-label" for="inlineRadio1">Unicode<a href="#"></a></label>
						</div>
						<div class="form-check form-check-inline">
						  <input class="form-check-input" type="radio" name="transcription_enc" id="inlineRadio2" value="mdc">
						  <label class="form-check-label" for="inlineRadio2">Manuel de Codage</label>
						</div>
					</div>
				  </div>
				  
				 <!-- Translation -->			  
				  <div class="form-group row bg-grey">
					<label for="Translation" class="col-sm-2 col-form-label">Translation</label>
					<div class="col-sm-10">
					  <textarea class="form-control mb-3" id="dict-search-translation" rows="3" name="translation"></textarea>
						 <div class="form-check form-check-inline">
						  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="lang" value="de" checked>
						  <label class="form-check-label" for="inlineCheckbox1">German</label>
						</div>
						<div class="form-check form-check-inline">
						  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="lang" value="en">
						  <label class="form-check-label" for="inlineCheckbox2">English</label>
						</div>	
						<div class="form-check form-check-inline">
						  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="lang" value="fr">
						  <label class="form-check-label" for="inlineCheckbox2">French</label>
						</div>
					</div>
				  </div>
				  
				  <!-- Word-Class -->			  
				  <div class="form-group row">
					<label for="inputPassword3" class="col-sm-2 col-form-label">Word Class</label>
					<div class="col-sm-5">
						<select class="form-control" id="word_class_types" name="wc_type">
						{% for type, subtypes in word_classes.items%}
						  <option value="{{type}}">{{type}}</option>
						{%endfor%}
						</select>					  
					</div>
					<div class="col-sm-5">
						<select class="form-control" id="word_class_subtypes" name="wc_subtype">
						</select>
					  
					</div>
				  </div>
				  
				  <!-- Bibliography -->			  
				  <div class="form-group row bg-grey">
					<label for="Translation" class="col-sm-2 col-form-label">Bibliography</label>
					<div class="col-sm-10">
					  <input class="form-control" type="text" placeholder="" name="bib">
					</div>
				  </div>
				  
				  <!-- Root -->
				  <div class="form-group row">
					<label for="Transcription" class="col-sm-2 col-form-label">Root</label>
					<div class="col-sm-10">
					  <textarea class="form-control mb-3 keyboardInput" name="root" id="dict-search-root" rows="3" lang="egy"></textarea>
					  <div class="form-check form-check-inline">
						  <input class="form-check-input" type="radio" name="root_enc" id="inlineRadio3" value="unicode" checked="true">
						  <label class="form-check-label" for="inlineRadio3">Unicode<a href="#"></a></label>
						</div>
						<div class="form-check form-check-inline">
						  <input class="form-check-input" type="radio" name="root_enc" id="inlineRadio4" value="mdc">
						  <label class="form-check-label" for="inlineRadio4">Manuel de Codage</label>
						</div>
					</div>
				  </div>
				  
				  <!-- Annotaion -->			  
				  <div class="form-group row bg-grey">
					<label for="Word-Class" class="col-sm-2 col-form-label">Annotation Type</label>
					<div class="col-sm-10">
						<select class="form-control">
						  <option>Annotation 1</option>
						  <option>Annotation 2</option>
						</select>					  
					</div>					
				  </div>
				  
				  <!-- ID -->			  
				  <div class="form-group row bg-secondary text-white mb-4">
					<label for="ID" class="col-sm-2 col-form-label">ID</label>
					<div class="col-sm-10">
						<select class="form-control">
						  <option>ID 1</option>
						  <option>ID 2</option>
						</select>					  
					</div>					
				  </div>  
				  
				</form>			  
			</div>
		  </div> <!--  -->
		  
		  <div class="card">
			<div class="card-header" id="headingTwo">
			  <h2 class="mb-0">
				<button form="text-word-search" class="btn btn-link collapsed show-more" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
				 <span class="fas fa-plus-circle"></span>Words in Texts
				</button>
			  </h2>
			</div>
			<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
				<form id="text-word-search" name="text-word-search" action="/search/occurences">
					{% for field in textwordform %}
					<div class="form-group row bg{% cycle '-grey' '' %}">
						{{ field }}
						</div>
					{% endfor %}
				
				</form>
			</div>
		  </div>





		  <div class="card">
			<div class="card-header" id="headingThree">
			  <h2 class="mb-0">
				<button class="btn btn-link collapsed show-more" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
				  <span class="fas fa-plus-circle"></span>Inscribed Objects
				</button>
			  </h2>
			</div>
			<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
			  <div class="card-body">
				Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
			  </div>
			</div>
		  </div>
		  <div class="card">
			<div class="card-header" id="headingFour">
			  <h2 class="mb-0">
				<button class="btn btn-link collapsed show-more" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
				  <span class="fas fa-plus-circle"></span>Texts
				</button>
			  </h2>
			</div>
			<div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
			  <div class="card-body">
				Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
			   </div>
			</div>
		  </div>
		  
		</div>	<!-- .accordion -->	
		<small id="GlobalSearch" class="form-text text-muted pl-2 pt-1">Enter specific search options and combine search-fields.</small>
		</div>	<!-- .col-sm-8 -->	
	
	<!-- Sidebar -->
		<div class="col-sm-4 mt-2">
			<div class="sticky-top">
				<div class="form-check mb-4">
					<input class="form-check-input" type="radio" name="FuzzySearch" id="Fuzzy" value="option1" checked>
					 <label class="form-check-label" for="FuzzySearch">
						Fuzzy Search
					</label>
					
					<input class="form-check-input ml-2" type="radio" name="ExactSearch" id="Fuzzy" value="option1">
					 <label class="form-check-label ml-4" for="ExactSearch">
						Exact Search
					</label>
					
				</div>		
			
				<button type="button" class="btn btn-block btn-secondary text-left text-decoration-none">
					<span class="fas fa-times-circle"></span>Clear all
				</button>
				<button id="submit-search-form" type="submit" class="btn btn-block btn-danger text-left text-decoration-none mt-4" form="dict-search" formtarget="_self" formmethod="get" formenctype="application/x-www-form-urlencoded">
					<span class="fas fa-arrow-circle-right"></span>Search
				</button>
			</div> <!-- .sticky -->
		</div>
      <!-- /.row -->
	  
	</div>  <!-- /.row content-->
	</div> <!-- /.container Content -->
	{% endblock %}
	
	
